(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(t,e,n){t.exports=n(33)},22:function(t,e,n){},24:function(t,e,n){},33:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(13),s=n.n(a),c=(n(22),n(24),n(3)),i=Object(c.b)(function(t){return{post:t.posts[t.currentPost]||null}},function(t){return{nextPost:function(){t({type:"NextPost"})},previousPost:function(){t({type:"PreviousPost"})},showPost:function(){t({type:"ShowPost"})}}})(function(t){var e=t.post,n=t.nextPost,r=t.previousPost,a=t.showPost;return o.a.createElement("div",{tabIndex:0,onKeyDown:function(t){switch(t.key){case"ArrowRight":case"j":case"d":n();break;case"ArrowLeft":case"k":case"a":r();break;case" ":a()}}},e&&o.a.createElement(o.a.Fragment,null,e.previewUrl&&o.a.createElement("img",{style:{maxHeight:"80vh",maxWidth:"100vw"},src:e.previewUrl}),o.a.createElement("h1",null,e.title)))}),u=Object(c.b)(function(t){var e=t.posts[t.currentPost+1];return{nextPost:e&&e.previewUrl}})(function(t){var e=t.nextPost;return e?o.a.createElement("img",{style:{display:"none"},src:e}):null}),l=n(5),p=n(7),w=n(6),d=n(16),h={posts:[],currentPost:0},m=function(t){return void 0!==t},f=n(1),v=n(15),P=f.type({data:f.type({children:f.array(f.type({data:f.intersection([f.type({name:f.string,title:f.string,permalink:f.string}),f.partial({preview:f.type({images:f.array(f.type({source:f.type({url:f.string,width:f.Integer,height:f.Integer}),resolutions:f.array(f.type({url:f.string,width:f.Integer,height:f.Integer}))}))})})])}))})}),g=Object(l.c)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GotPosts":var n=t.posts.concat(e.posts).filter(m),r=Object(d.a)(new Set(n.map(function(t){return t.name}))),o=n.reduce(function(t,e){return Object(w.a)({},t,Object(p.a)({},e.name,e))},{});return Object(w.a)({},t,{posts:r.map(function(t){return o[t]})});case"NextPost":return Object(w.a)({},t,{currentPost:t.currentPost+1});case"PreviousPost":return Object(w.a)({},t,{currentPost:t.currentPost&&t.currentPost-1});default:return t}},Object(l.a)(function(t){return function(e){var n=function(e){var n=e[e.length-1];!function(t){return function(e){fetch("https://www.reddit.com/hot.json?raw_json=1"+(t?"&after=".concat(t):"")).then(function(t){return t.json()}).then(function(t){var n=P.decode(t);n.isRight()?e&&e(n.value.data.children.map(function(t){return{name:t.data.name,title:t.data.title,previewUrl:t.data.preview&&t.data.preview.images[0].source.url,link:t.data.permalink}})):console.error(v.PathReporter.report(n))})}}(n&&n.name)(function(e){return t.dispatch({type:"GotPosts",posts:e})})};return n(t.getState().posts),function(r){e(r);var o=t.getState();"GotPosts"===r.type||o.posts[o.currentPost]&&o.posts[o.currentPost+1]||n(o.posts);var a=o.posts[o.currentPost];"ShowPost"===r.type&&a&&window.open("https://www.reddit.com"+a.link,"_blank")}}})),y=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(c.a,{store:g},o.a.createElement(i,null),o.a.createElement(u,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.84e3117d.chunk.js.map